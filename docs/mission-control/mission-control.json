{
  "project": "Montree - Local-First Montessori Platform",
  "lastUpdated": "2026-01-25T20:30:00+08:00",
  "currentSession": 85,
  "gameplan": "/docs/MONTREE_GAMEPLAN.md",
  
  "THE_VISION": {
    "oneLiner": "Schools buy the app. They own their data. Forever.",
    "philosophy": "You deliver the tool. They own everything.",
    "priority": "THIS IS THE ONLY PRIORITY",
    "promise": "Even if Montree disappears, every school still has a working app and all their data."
  },

  "ROADMAP": {
    "phase1_web": {
      "name": "Web Perfection",
      "sessions": "86-92",
      "status": "IN_PROGRESS",
      "goal": "Flawless UX that any school can use",
      "milestones": {
        "86": "Dashboard shows teacher's classroom",
        "87": "Admin panel for principals",
        "88": "Student management",
        "89": "Progress tracking",
        "90": "Reports",
        "91": "End-to-end testing",
        "92": "Polish & bug fixes"
      }
    },
    "phase2_native": {
      "name": "Native Conversion",
      "sessions": "93-101",
      "status": "WAITING",
      "goal": "App Store ready, local-first, works offline forever",
      "milestones": {
        "93": "Capacitor setup",
        "94": "SQLite integration",
        "95": "Data layer swap",
        "96": "Photo storage local",
        "97": "Offline-first complete",
        "98": "Optional sync (iCloud/Drive/NAS)",
        "99": "Native polish",
        "100": "App Store prep",
        "101": "LAUNCH ðŸš€"
      }
    }
  },

  "CURRENT_STATUS": {
    "session": 85,
    "completed": [
      "âœ… Database schema",
      "âœ… Onboarding wizard (3 steps)",
      "âœ… Teacher login codes",
      "âœ… Auth APIs",
      "âœ… Whale Class migrated",
      "âœ… Gameplan created"
    ],
    "next_session": {
      "number": 86,
      "focus": "Connect dashboard to logged-in teacher's classroom",
      "tasks": [
        "Read montree_teacher from localStorage",
        "Filter children by classroom_id",
        "Show classroom name/icon in header",
        "Empty state for new classrooms",
        "Logout functionality"
      ]
    }
  },

  "TECH_STACK": {
    "web": {
      "frontend": "Next.js 14 + React + Tailwind",
      "backend": "Supabase (PostgreSQL + Storage)",
      "hosting": "Railway",
      "domain": "teacherpotato.xyz/montree"
    },
    "native": {
      "shell": "Capacitor 5+",
      "database": "SQLite (@capacitor-community/sqlite)",
      "storage": "Capacitor Filesystem",
      "camera": "Capacitor Camera",
      "sync": "PowerSync (optional)",
      "distribution": "App Store + Google Play"
    }
  },

  "DATA_MODEL": {
    "montree_schools": "One per paying customer",
    "montree_classrooms": "Belongs to school, has one teacher",
    "simple_teachers": "login_code, password, classroom_id",
    "children": "Belongs to classroom",
    "note": "Same schema works for web AND native"
  },

  "KEY_URLS": {
    "/montree/onboarding": "Principal sets up school",
    "/montree/login": "Teacher login (code or password)",
    "/montree/dashboard": "Teacher's classroom view",
    "/montree/admin": "Principal manages school"
  },

  "WHALE_CLASS": {
    "note": "Tredoux's internal test classroom",
    "school_id": "00000000-0000-0000-0000-000000000001",
    "classroom_id": "00000000-0000-0000-0000-000000000002",
    "login_code": "whaleclass-7a4b",
    "students": 18
  },

  "SUCCESS_CRITERIA": {
    "phase1_complete": [
      "Any school can onboard in < 5 minutes",
      "Teachers login without help",
      "Progress tracking works smoothly",
      "Reports generate correctly",
      "Zero critical bugs for 2 weeks"
    ],
    "phase2_complete": [
      "App runs fully offline",
      "Data stays on device",
      "Photos stored locally",
      "App Store approved",
      "First paying customer"
    ]
  },

  "FILES": {
    "gameplan": "/docs/MONTREE_GAMEPLAN.md",
    "brain": "/brain.json",
    "mission_control": "/docs/mission-control/mission-control.json",
    "handoffs": "/docs/HANDOFF_*.md",
    "migrations": "/migrations/067-068_*.sql"
  },

  "MANTRA": "You deliver the tool. They own everything."
}
