{
  "project": "montree",
  "lastUpdated": "2026-01-20T04:10:00Z",
  "session": 68,
  "phase": "Foundation Phase 1-4",
  "currentSubPhase": "RAILWAY HEALTHCHECK FAILING",
  "phaseStatus": "üö® Build succeeds but server won't start",
  
  "CORE_LAWS": [
    "1. CURRICULUM BELONGS TO CLASSROOM",
    "2. The /montree/ is THE PRODUCT", 
    "3. The /admin/ is Tredoux's sandbox",
    "4. Brain updates MANDATORY after every chunk",
    "5. READ THIS FILE FIRST",
    "6. JAPANESE ENGINEER MINDSET",
    "7. SEGMENT WORK - update brain after EVERY step"
  ],

  "RAILWAY_BUILD_LOG_ANALYSIS": {
    "build_status": "‚úÖ SUCCESS - all 13 steps completed",
    "static_copy": "‚úÖ cp -r .next/static .next/standalone/.next/",
    "public_copy": "‚úÖ cp -r public .next/standalone/",
    "healthcheck": "‚ùå FAILED - 1/1 replicas never became healthy",
    "error": "Service unavailable on /api/health"
  },

  "ROOT_CAUSE": {
    "issue": "Next.js standalone server not starting",
    "likely_cause": "start.sh cd's into standalone folder but server.js can't find dependencies",
    "start_sh_does": "cd /app/.next/standalone && node server.js",
    "problem": "node_modules not in standalone folder path"
  },

  "FIX_NEEDED": {
    "option_1": "Run server from /app with full path to server.js",
    "option_2": "Copy node_modules to standalone folder",
    "recommendation": "Option 1 - simpler, more reliable"
  },

  "NEXT_STEPS": [
    "1. Fix start.sh - run from /app, not from standalone folder",
    "2. Commit and push",
    "3. Wait for Railway deploy",
    "4. Verify healthcheck passes"
  ]
}
